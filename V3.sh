#!/usr/bin/env bash
# Termux ZSH Full Installation Script
# Install ZSH + Oh-My-Zsh + Banner + Plugins + Custom PS1
# Dengan opsi ganti banner langsung dari menu

set -euo pipefail

# Warna-warna
RED='\033[1;91m'
GREEN='\033[1;92m'
YELLOW='\033[1;93m'
BLUE='\033[1;94m'
PURPLE='\033[1;95m'
CYAN='\033[1;96m'
WHITE='\033[1;97m'
NC='\033[0m'

# Konfigurasi file
BANNER_DIR="${HOME}/.config"
BANNER_FILE="${BANNER_DIR}/termux-banner.zsh"
NAME_FILE="${BANNER_DIR}/termux-name.txt"
CHOICE_FILE="${BANNER_DIR}/termux-banner-choice.txt"
ZSHRC="${HOME}/.zshrc"
OHMYZSH_DIR="${HOME}/.oh-my-zsh"
ZSH_CUSTOM="${OHMYZSH_DIR}/custom"

# Buat direktori config
mkdir -p "$BANNER_DIR"

# Fungsi untuk clear screen
clear_screen() {
  printf "\033[2J\033[H"
}

# Fungsi untuk menampilkan header
show_header() {
  clear_screen
  echo -e "${CYAN}РЋћРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋЌ${NC}"
  echo -e "${CYAN}РЋЉ${NC}              TERMUX ZSH INSTALLER - FULL CUSTOMIZATION           ${CYAN}РЋЉ${NC}"
  echo -e "${CYAN}РЋџРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋЮ${NC}\n"
}

# Fungsi untuk cek dan install dependencies
install_dependencies() {
  show_header
  echo -e "${YELLOW}[1/7] Menginstall dependencies...${NC}\n"
  
  # Update package list
  echo -e "${BLUE}РќХ Updating packages...${NC}"
  pkg update -y
  
  # Install packages
  echo -e "${BLUE}РќХ Installing required packages...${NC}"
  pkg install -y \
    zsh \
    git \
    curl \
    wget \
    figlet \
    neofetch \
    ruby \
    ncurses-utils \
    termux-tools
  
  # Install lolcat via gem
  echo -e "${BLUE}РќХ Installing lolcat...${NC}"
  gem install lolcat 2>/dev/null || echo -e "${YELLOW}Рџа№ИЈ  lolcat installation skipped (optional)${NC}"
  
  echo -e "\n${GREEN}РюЁ Dependencies installed!${NC}"
  sleep 2
}

# Fungsi untuk install Oh-My-Zsh
install_ohmyzsh() {
  show_header
  echo -e "${YELLOW}[2/7] Menginstall Oh-My-Zsh...${NC}\n"
  
  if [[ -d "$OHMYZSH_DIR" ]]; then
    echo -e "${YELLOW}Рџа№ИЈ  Oh-My-Zsh sudah terinstall. Backup ke ~/.oh-my-zsh.bak${NC}"
    mv "$OHMYZSH_DIR" "${OHMYZSH_DIR}.bak"
  fi
  
  # Install Oh-My-Zsh tanpa mengubah shell otomatis
  echo -e "${BLUE}РќХ Downloading Oh-My-Zsh...${NC}"
  sh -c "$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)" "" --unattended
  
  echo -e "\n${GREEN}РюЁ Oh-My-Zsh installed!${NC}"
  sleep 2
}

# Fungsi untuk install plugin
install_plugins() {
  show_header
  echo -e "${YELLOW}[3/7] Menginstall Zsh Plugins...${NC}\n"
  
  # Buat direktori plugins
  mkdir -p "${ZSH_CUSTOM}/plugins"
  
  # Install zsh-autosuggestions
  echo -e "${BLUE}РќХ Installing zsh-autosuggestions...${NC}"
  git clone https://github.com/zsh-users/zsh-autosuggestions.git \
    "${ZSH_CUSTOM}/plugins/zsh-autosuggestions" 2>/dev/null || \
    echo -e "${YELLOW}Рџа№ИЈ  zsh-autosuggestions already exists${NC}"
  
  # Install zsh-syntax-highlighting
  echo -e "${BLUE}РќХ Installing zsh-syntax-highlighting...${NC}"
  git clone https://github.com/zsh-users/zsh-syntax-highlighting.git \
    "${ZSH_CUSTOM}/plugins/zsh-syntax-highlighting" 2>/dev/null || \
    echo -e "${YELLOW}Рџа№ИЈ  zsh-syntax-highlighting already exists${NC}"
  
  # Install zsh-completions
  echo -e "${BLUE}РќХ Installing zsh-completions...${NC}"
  git clone https://github.com/zsh-users/zsh-completions.git \
    "${ZSH_CUSTOM}/plugins/zsh-completions" 2>/dev/null || \
    echo -e "${YELLOW}Рџа№ИЈ  zsh-completions already exists${NC}"
  
  echo -e "\n${GREEN}РюЁ Plugins installed!${NC}"
  sleep 2
}

# Fungsi untuk input nama
input_name() {
  show_header
  echo -e "${YELLOW}[4/7] Konfigurasi Nama Pengguna${NC}\n"
  
  if [[ -f "$NAME_FILE" ]]; then
    OLD_NAME=$(<"$NAME_FILE")
    echo -e "${PURPLE}Masukkan nama baru ${YELLOW}(ENTER untuk tetap pakai: ${GREEN}$OLD_NAME${YELLOW}):${NC} \c"
    read -r USER_NAME
    if [[ -z "$USER_NAME" ]]; then
      USER_NAME="$OLD_NAME"
    fi
  else
    echo -e "${GREEN}Masukkan nama untuk ditampilkan di prompt:${NC} \c"
    read -r USER_NAME
  fi
  echo "$USER_NAME" > "$NAME_FILE"
  
  echo -e "\n${GREEN}РюЁ Nama disimpan: ${YELLOW}$USER_NAME${NC}"
  sleep 2
}

# Fungsi untuk menampilkan menu banner
show_banner_menu() {
  local title="$1"
  local show_extra_options="$2"
  
  clear_screen
  echo -e "${CYAN}РЋћРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋЌ${NC}"
  echo -e "${CYAN}РЋЉ${NC}                     ${WHITE}$title${NC}                        ${CYAN}РЋЉ${NC}"
  echo -e "${CYAN}РЋџРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋЮ${NC}\n"
  
  echo -e "${YELLOW}[1]${NC} ${GREEN}Рўа№ИЈ  Skull Banner${NC}      ${YELLOW}[5]${NC} ${GREEN}­ЪдІ Butterfly Banner${NC}"
  echo -e "${YELLOW}[2]${NC} ${GREEN}­ЪЋи№ИЈ  Spider Banner${NC}     ${YELLOW}[6]${NC} ${GREEN}­Ъј▓ Random Banner${NC}"
  echo -e "${YELLOW}[3]${NC} ${GREEN}­ЪљЅ Dragon Banner${NC}"
  echo -e "${YELLOW}[4]${NC} ${GREEN}­ЪЈ┤РђЇРўа№ИЈ  One Piece Banner${NC}"
  
  if [[ "$show_extra_options" == "yes" ]]; then
    echo -e "${YELLOW}[7]${NC} ${PURPLE}­ЪЉЂ№ИЈ  Preview Banner${NC}"
    echo -e "${YELLOW}[8]${NC} ${PURPLE}­Ъћё Ganti Nama${NC}"
    echo -e "${YELLOW}[9]${NC} ${RED}РЮї Keluar${NC}"
  fi
  
  echo ""
  echo -e "${PURPLE}РћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђ${NC}"
  
  # Cek pilihan sebelumnya
  if [[ -f "$CHOICE_FILE" ]]; then
    OLD_CHOICE=$(<"$CHOICE_FILE")
    case $OLD_CHOICE in
      1) OLD_NAME="Skull" ;;
      2) OLD_NAME="Spider" ;;
      3) OLD_NAME="Dragon" ;;
      4) OLD_NAME="One Piece" ;;
      5) OLD_NAME="Butterfly" ;;
      6) OLD_NAME="Random" ;;
      *) OLD_NAME="None" ;;
    esac
    echo -e "${YELLOW}Pilihan sebelumnya: ${GREEN}$OLD_NAME${NC}"
    echo ""
  fi
}

# Fungsi untuk preview banner
preview_banner() {
  local choice="$1"
  local banner_name=""
  
  clear_screen
  echo -e "${CYAN}РЋћРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋЌ${NC}"
  echo -e "${CYAN}РЋЉ${NC}                     ${WHITE}PREVIEW BANNER${NC}                         ${CYAN}РЋЉ${NC}"
  echo -e "${CYAN}РЋџРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋЮ${NC}\n"
  
  case $choice in
    1) 
      echo -e "${GREEN}Рўа№ИЈ  SKULL BANNER${NC}\n"
      banner_skull_demo
      banner_name="Skull"
      ;;
    2) 
      echo -e "${GREEN}­ЪЋи№ИЈ  SPIDER BANNER${NC}\n"
      banner_spider_demo
      banner_name="Spider"
      ;;
    3) 
      echo -e "${GREEN}­ЪљЅ DRAGON BANNER${NC}\n"
      banner_dragon_demo
      banner_name="Dragon"
      ;;
    4) 
      echo -e "${GREEN}­ЪЈ┤РђЇРўа№ИЈ  ONE PIECE BANNER${NC}\n"
      banner_onepiece_demo
      banner_name="One Piece"
      ;;
    5) 
      echo -e "${GREEN}­ЪдІ BUTTERFLY BANNER${NC}\n"
      banner_butterfly_demo
      banner_name="Butterfly"
      ;;
    6)
      echo -e "${GREEN}­Ъј▓ RANDOM BANNER${NC}\n"
      local banners=(banner_skull_demo banner_spider_demo banner_dragon_demo banner_onepiece_demo banner_butterfly_demo)
      local pick=$((RANDOM % 5))
      ${banners[$pick]}
      banner_name="Random"
      ;;
  esac
  
  echo -e "\n\n${YELLOW}Tekan ENTER untuk kembali ke menu...${NC}"
  read -r
}

# Fungsi demo banner (tanpa gradient untuk preview)
banner_skull_demo() { cat <<'ART'
РађРађРађРађРађРађРађРБђРБцРБ┤РБХРБХРБХРБ┐РБ┐РБ┐РБиРБХРБХРБХРБцРБёРађРађРађРађРађРађРађРађ
РађРађРађРађРађРБаРБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБХРБцРАђРађРађРађРађ
РађРађРађРБаРБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБёРађРађРађ
РађРБаРБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБиРАђРађ
Рб░РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБиРАђ
РБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБЄ
РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐
РБ┐РБ┐РАЈРаЅРаЎРа┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐Ра┐РаІРаЅРаЅРБ┐РБ┐
Рб╗РБ┐РАЄРађРађРађРаѕРаЎРа╗РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РаЪРаІРађРађРађРађРбђРБ┐РАЄ
РаўРБ┐РБиРАђРађРађРађРађРађРађРаЅРаЏРа┐Рб┐РБ┐РБ┐РБ┐Ра┐РаЏРаІРађРађРађРађРађРађРбђРБ╝РБ┐РаЃ
РађРа╣РБ┐РБ┐РБХРБдРБцРБђРБђРБђРБђРБђРБцРБХРаЪРА┐РБиРБдРБёРБђРБђРБђРБаРБцРБцРБХРБ┐РБ┐РАЪРађ
РађРађРБеРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РаЈРађРАЄРаИРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РаЃРађ
РађРбѕРБ┐РБ┐РБ┐РБ┐РБ┐РА┐Ра┐Ра┐РБ┐РБ┐РБиРађРБ╝РБиРађРБИРБ┐РБ┐РБ┐РА┐Ра┐Ра┐Ра┐РБ┐РБ┐РБ┐РАЄРађ
РађРаўРБ┐РБ┐РБ┐РАЪРаІРађРађРа░РБ┐РБ┐РБ┐РБиРБ┐РБ┐РБиРБ┐РБ┐РБ┐РБ┐РАЄРађРађРађРБ┐РБ┐РаЪРаЂРађ
РађРађРаѕРаЅРађРаѕРаЂРађРађРаўРБ┐РБ┐Рб┐РБ┐РБ┐Рб╗РБ┐РАЈРБ╗РБ┐РБ┐РаЃРађРађРађРаѕРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРБ┐РБ┐РАЄРБ┐РБ┐РбИРБ┐РАЄРБ┐РБ┐РАЄРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРБ┐РБ┐РАЄРБ┐РБ┐РбИРБ┐РАЄРБ┐РБ┐РађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРбИРБ┐РАЄРБ┐РБ┐РбИРБ┐РАЄРБ┐РБ┐РађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРбИРБ┐РАЄРБ┐РБ┐РбИРБ┐РаЃРБ┐РБ┐РађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРаИРБ┐РАЄРБ┐РБ┐РбИРБ┐РађРБ┐РБ┐РађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРа┐РаЄРб┐РА┐РбИРА┐РађРа┐РаЪРађРађРађРађРађРађРађРађРађРађ
ART
}

banner_spider_demo() { cat <<'ART'
      РађРађРађРађРађРађРбђРаєРађРбђРАєРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРб░РАђРађРа░РАђРађРађРађРађРађРађРађ
      РађРађРађРађРађРбаРАЈРађРбђРБЙРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРбиРАђРађРб╣РБёРађРађРађРађРађРађ
     РађРађРађРађРађРБ░РАЪРађРађРБ╝РАЄРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРаИРБДРађРађРб╗РБєРађРађРађРађРађ
     РађРађРађРађРбаРБ┐РаЂРађРБИРБ┐РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРБ┐РБЄРађРаѕРБ┐РАєРађРађРађРађ
     РађРађРађРађРБЙРАЄРађРбђРБ┐РАЄРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРбИРБ┐РАђРађРбИРБ┐РађРађРађРађ
     РађРађРађРБ┐РБ┐РађРађРБ┐РБ┐РБДРБцРБцРБцРБцРБцРБцРАђРађРБђРађРађРБђРађРбђРБцРБцРБцРБцРБцРБцРБ╝РБ┐РБ┐РађРађРБ┐РБ┐РађРађРађ
     РађРађРбИРБ┐РАЈРађРађРађРаЎРбЅРБЅРБЕРБ┤РБХРБцРБЎРБ┐РБХРБ»РБдРБ┤РБ╝РБиРБ┐РБІРБцРБХРБдРБЇРБЅРАЅРаІРађРађРађРбИРБ┐РАЄРађРађ
     РађРађРб┐РБ┐РБиРБцРБХРБХРа┐Ра┐РаЏРаІРБЅРАЅРаЎРбЏРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РАЏРаЏРбЅРБЅРаЎРаЏРа┐Ра┐РБХРБХРБцРБЙРБ┐РА┐РађРађ
     РађРађРађРаЎРа╗РаІРаЅРађРађРађРБаРБЙРА┐РаЪРаЏРБ╗РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБЪРаЏРа╗Рб┐РБиРБёРађРађРађРаЅРаЎРаЪРаІРађРађРађ
     РађРађРађРађРађРађРађРбђРБцРБЙРа┐РаІРбђРБаРБЙРаЪРбФРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РАЇРа╗РБиРБёРАђРаЎРа┐РБиРБцРАђРађРађРађРађРађРађРађ
     РађРађРађРађРађРБаРБ┤РА┐РаЏРаЂРађРбИРБ┐РБ┐РаІРађРбИРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РАЌРађРаЎРБ┐РБ┐РАЄРађРаѕРаЏРб┐РБдРБёРађРађРађРађРађ
     РбђРађРБђРБ┤РБЙРаЪРаІРађРађРађРађРбИРБ┐РБ┐РађРађРбИРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РАЄРађРађРБ┐РБ┐РАЄРађРађРађРађРаЎРа╗РБиРБдРБђРађРБђ
     РбИРБ┐РБ┐РаІРаЂРађРађРађРађРађРађРбИРБ┐РБ┐РађРађРаѕРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РаЂРађРађРБ┐РБ┐РАЄРађРађРађРађРађРађРаѕРаЎРБ┐РБ┐РАЪ
     РбИРБ┐РАЈРађРађРађРађРађРађРађРађРбИРБ┐РБ┐РађРађРађРб╣РБ┐РБ┐РБ┐РБ┐РАЈРађРађРађРБ┐РБ┐РАЄРађРађРађРађРађРађРађРађРб╣РБ┐РАЄ
     РбИРБ┐РБиРађРађРађРађРађРађРађРађРбИРБ┐РБ┐РађРађРађРађРб┐РБ┐РБ┐РА┐РађРађРађРађРБ┐РБ┐РАЄРађРађРађРађРађРађРађРађРБЙРБ┐РАЄ
     РађРБ┐РБ┐РађРађРађРађРађРађРађРађРбИРБ┐РБ┐РађРађРађРађРаѕРа┐Ра┐РаЂРађРађРађРађРБ┐РБ┐РАЄРађРађРађРађРађРађРађРађРБ┐РБ┐Рађ
     РађРаўРБ┐РАЄРађРађРађРађРађРађРађРађРБ┐РБ┐РађРађРађРађРађРађРађРађРађРађРађРађРБ┐РБ┐РађРађРађРађРађРађРађРађРбИРБ┐РаЃРађРађ
     РађРађРађРб╗РАєРађРађРађРађРађРађРађРаИРБ┐РАёРађРађРађРађРађРађРађРађРађРађРбђРБ┐РаЄРађРађРађРађРађРађРађРб░РАЪРађРађРађ
     РађРађРађРађРбиРађРађРађРађРађРађРађРађРб┐РАЄРађРађРађРађРађРађРађРађРађРађРбИРА┐РађРађРађРађРађРађРађРађРАЙРађРађРађРађ
     РађРађРађРађРаѕРбДРађРађРађРађРађРађРађРаИРБиРађРађРађРађРађРађРађРађРађРађРБЙРаЄРађРађРађРађРађРађРађРАИРаЂРађРађРађРађ
     РађРађРађРађРађРађРађРађРађРађРађРађРађРађРб╣РАєРађРађРађРађРађРађРађРађРб░РАЪРађРађРађРађРађРађРађРађРаЂРађРађРађРађРађ
     РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРб│РађРађРађРађРађРађРађРађРАъРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађ
     РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРаБРађРађРађРађРађРађРаюРађРађ
ART
}

banner_dragon_demo() { cat <<'ART'
РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРБђРБцРА┤РаѓРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРбђРБаРБ┤РБ┐РаЪРаЅРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРбђРБаРБХРБ┐РБ┐РБ┐РАЁРађРађРађРађРађРађРађРађРбђРБђРБђРБђРБђРБђРБђРБђРБђРБђРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРбђРБаРБцРБцРБцРБцРБ┤РБ┐РБ┐РБ┐РБ┐РБ»РБцРБХРБХРБЙРБ┐РБХРБХРБ┐РБ┐РБ┐РБ┐РБ┐РА┐Ра┐РаЪРаЏРаЅРаЅРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРаљРаЅРаЂРаѕРБ╣РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБиРБХРБХРБХРаХРаХРадРаёРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРбђРБаРБЙРА┐РаЪРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБиРБдРАђРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРбђРБ┤РБЙРБ┐РБЪРБАРБцРБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РбЈРаЅРаЏРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РА╗Рб┐РБ┐РБ┐РБдРАђРађРађРађРађРађ
РађРађРађРађРађРБђРБцРБХРБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РаЃРаѕРа╗РАёРаЂРађРбИРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБєРаѕРаЎРа╗РБ┐РБєРађРађРађРађ
РађРађРађРађРб░РБ┐РБ┐РБ┐РБ┐РА┐РаЏРаЅРаЅРаЅРаЏРаЏРаЏРаЏРаІРаЂРађРађРађРаЂРађРБаРБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБДРађРађРаѕРаЎРбДРађРађРађ
РађРађРађРађРађРаЎРа┐РаЪРаЂРађРађРађРађРађРађРађРађРађРађРађРБђРБђРБцРБ┤РБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РАєРађРађРађРађРаЂРађРађ
РађРађРађРађРађРађРађРађРађРађРаѕРаЎРб╗РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РаЪРаЎРБ┐РБ┐РБ┐РБиРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРбђРБцРБ┤РБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РаЪРаЂРађРађРб╣РБ┐РБ┐РБ┐РађРађРађРађРађРађРађ
РађРађРађРађРбђРБцРБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РА┐РаЪРаІРаЂРађРађРађРађРаѕРБ┐РБ┐РАЪРађРађРађРађРађРађРађ
РађРађРађРБ┤РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐Ра┐РаЪРаЏРбІРБЕРА┐Ра┐Ра┐РаЪРаЏРаІРаЂРађРађРађРађРађРађРађРађРађРБ┐РАЪРаЂРађРађРађРађРађРађРађ
РађРбђРБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РА┐РаІРађРађРађРађРађРађРађРађРађРађРађРађРааРБёРБђРАђРађРађРађРађРађРаљРаЅРађРађРађРађРађРађРађРађРађ
РађРБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐Ра╗РБ┐РБ┐РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРаЅРа╗Рб┐РБХРБцРБёРАђРађРађРађРађРађРађРађРађРађРађРађ
Рб░РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РАёРаЎРб┐РБёРађРађРађРађРађРађРађРађРааРБцРБђРађРађРађРааРБёРБђРБђРАЅРб╗РБ┐РБ┐РБ┐РБХРБёРАђРађРађРађРађРађРађРађ
РаўРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБдРБёРБђРађРађРађРађРађРађРађРађРађРаѕРБ┐РБ┐РБдРБцРБцРБХРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБиРБёРАђРађРађРађРађ
РађРб╗РАЪРаЎРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐Ра┐РаЏРаЏРаІРаЅРађРађРбђРБаРБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБдРАђРађРађ
РађРађРаЃРађРб╣РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБХРБХРБХРБХРБХРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РАЪРаЂРађРађРађРађРађРаѕРаЅРа╗Рб┐РБ┐РБ┐РБ┐РБиРАёРађ
РађРађРађРађРбИРБ┐РБ┐РАЪРаЎРа┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РА┐Ра┐РаЏРаЏРБ┐РБ┐РБ┐РБ┐РБ┐РБДРБђРБђРАёРађРађРађРађРађРађРаѕРБ┐РА┐РБ┐РБ┐РБиРађ
РађРађРађРађРбИРБ┐РА┐РаЂРађРађРађРаЎРа╗Ра┐РБЪРа╗Рб┐РБ┐РБ┐РБ┐РБиРБдРАђРађРаѕРа╗Рб┐РБ┐РБ┐РБГРБЅРАЅРађРађРађРађРађРађРађРађРаўРађРаИРБ┐РБ┐РАё
РађРађРађРађРБИРАЪРаЂРађРађРађРађРађРађРађРађРађРађРађРаЅРаЏРб┐РБ┐РБ┐РБдРАђРађРађРађРаЅРаЅРаЅРаЅРаЅРаЅРаЂРађРађРађРађРађРађРађРађРБ┐РБ┐РаЂ
РађРађРађРааРаІРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРаѕРаЎРб┐РБ┐РБєРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРБ┐РАЪРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРаЎРб┐РАєРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРб░РаЪРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРаЂРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРаЂ
ART
}

banner_onepiece_demo() { cat <<'ART'
РађРађРађРађРађРађРб┤РБХРадРБёРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРАаРа┤РБХРацРађРађРађРађРађРађ
РађРађРађРађРбѓРБЙРБ┐РБ┐РБ┐РбиРаЉРађРађРађРађРађРађРађРађРбљРБХРАЇРБ┤РБ┐РБ┐РБ┐РБ┐РБёРбЦРБХРАаРађРађРађРађРађРађРађРађРбаРБ║РБ┐РБ┐РБ┐РАєРађРађРађРађРађ
РађРађРађРбђРБбРБ┐РБ┐РБ┐РБ┐РаёРа▒РађРађРађРађРАаРбђРаљРБ┤РБ┐РБ┐РбАРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РАєРб┐РБ┐РБєРбфРАѓРађРађРађРађРађРаїРаЅРБ┐РБ┐РБ┐РБДРБёРАђРађРађРађ
РађРађРБ┤РБ┐РБ┐РБ┐Ра┐РБ┐РБиРБцРАбРађРађРађРбфРБјРА«Ра╝РбЏРБІРБЕРБгРБГРБГРБГРБГРБГРБГРБЦРаўРаЏРаЏРаЈРб│РБ▒РАаРађРађРађРбђРБ┤РА┐Рб╗Ра┐РБ┐РБ┐РаЈРађРаѓРађ
РађРаљРаѕРаЎРаЏРаЏРаАРађРбЎРб┐РБ┐РБдРађРањРаЅРађРБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐Ра┐Ра┐РБ┐РБ┐РБ┐РађРађРађРађРађРађРаЅРађРбаРБ┤Ра┐РаІРађРађРађРа╗РБ┐РаёРАаРаЂРађ
РађРађРађРаЉРаѓРађРађРађРађРађРаѕРаІРађРађРађРбИРБЏРБЅРБЕРБцРацРацРацРацРацРацРацРацРбцРБцРБёРБђРБђРађРађРађРађРађРАЁРађРађРађРађРађРаљРањРаіРађРађРађ
РађРађРађРађРађРађРађРађРбђРБђРАцРа┤РањРаџРБЕРБГРАхРаХРаќРаЏРаЏРаЏРаЏРаЏРаЏРаЏРаЏРаЏРаЏРаІРађРађРаѕРаЅРаЅРаЉРањРабРацРбђРАђРађРађРађРађРађРађРађРађРађ
РађРађРађРађРбђРАаРаћРБіРБГРАёРађРађРађРађРађРађРБђРБаРБцРБХРБХРБ┐РБ┐РБ┐РБ┐РБ┐РБХРБХРБцРБђРађРађРађРађРађРађРађРађРађРаљРБХРБГРБњРАаРађРађРађРађРађРађ
РађРађРађРаћРБФРБХРБ┐РБ┐РА┐РаЃРађРађРађРбђРБ┤РаЙРаЏРаЎРаІРаЎРаЏРб┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐Ра┐РаЏРаЅРађРађРађРађРађРађРађРађРађРаЏРб┐РБ┐РБ┐РБХРБёРађРађРађРађ
РађРађРбїРБЙРБ┐Ра┐РаЏРаЅРађРађРађРађРбђРАЙРаЂРађРађРађРађРађРађРађРб╣РБ┐РБ┐РБ┐РБ┐РаЈРађРађРађРађРађРађРађРађРађРађРађРађРађРађРаѕРаЎРа╗РБ┐РБиРАѓРађРађ
РађРађРаўРБЪРБЂРБаРАцРађРађРађРађРађРбИРБЪРађРађРађРађРађРађРађРађРађРБ┐РБ┐РБ┐РБ┐РађРађРађРађРађРађРађРађРаѕРађРађРАёРађРађРађРа▓РбцРБцРБђРБЎРаІРађРађ
РађРађРађРаЎРа┐РаІРбђРБцРаёРађРађРб░РАўРБ┐РАёРађРађРађРађРађРађРађРБ░РБ┐РаЪРа╗РБ┐РАёРађРађРађРађРађРађРађРАўРађРб░РАЄРађРађРБцРБёРАђРаѕРбЪРаЋРађРађРађ
РађРађРађРађРађРаѕРаЎРбЏРАђРБаРБ┤РАёРАЄРаЎРБ┐РБдРБђРБђРБаРБђРБаРБ┤РА┐РаЃРађРађРаўРБ┐РБдРБђРађРађРађРађРађРађРбђРБЙРбАРБдРАђРаЇРаЏРаЇРаіРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРаѕРаЂРаўРБёРаѕРа╗РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБЄРађРБаРБёРађРБйРБ┐РБ┐РБ┐РаЪРаЂРађРађРбђРАЙРаЃРаѕРаЂРаѕРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРаѕРаЂРађРађРаЅРаЏРа┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РА┐РаЪРаЂРађРађРађРађРаІРађРађРађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРБХРађРБдРАёРБцРБцРАёРбаРБгРАЂРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРбђРБ┤РаЙРаЂРађРБђРАђРаЏРаЃРа┐Ра┐РаЄРаИРа┐РаЄРађРађРађРађРађРађРббРБЋРАђРађРађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРааРађРаѓРађРађРађРађРБаРБХРаЈРаѓРађРађРађРа╗РађРБ┐РАЄРБХРБХРАєРб░РБХРАєРађРађРађРађРађРађРађРа╣РБ┐РБдРБђРађРађРађРађРађРађРАђРађРађРађРађ
РађРађРбаРБЙРБ┐РБ┐РБиРАёРбђРБ╝РБЙРаЪРаЂРАаРаћРађРађРађРађРааРбЎРаЃРа┐Ра┐РаЄРаИРа┐РаЄРађРађРађРАаРаѓРађРађРађРаѕРаЏРб┐РБиРБёРАђРБ┤РБ┐РБ┐РБ┐РаЄРађРађРађ
РађРађРаѕРаЏРа┐Рб┐РБ┐РБ┐РБ┐РАЄРађРа┤РаіРађРађРађРађРађРађРаЉРаеРаЎРБЊРБњРањРБХРБѓРБњРабРаћРаіРађРађРађРађРађРађРађРађРаЎРБ┐РБ┐РБ┐РБ┐РБ┐РБ»РАђРааРађРађ
РађРађРађРађРаѓРб╝РБ┐РБ┐РБ┐РаЄРааРАђРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРбђРБ┐РБ┐РБ┐РаЄРађРањРаѕРађРађРађ
РађРађРађРађРађРАђРаЎРб╗РБ┐РаёРБаРаЃРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРаљРАђРаЎРб╗РБ┐РацРАаРаЂРађРађРађРађ
РађРађРађРађРађРаѕРаЉРањРањРаІРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРаѕРаЉРањРањ
ART
}

banner_butterfly_demo() { cat <<'ART'
РађРађРађРађРБђРБђРБђРБђРБђРБђРАђРађРађРађРађРађРађРађРађРађРађРб┤РБцРБёРађРађРађРађРађРбђРБцРБХРаёРађРађРађРађРађРађРађРађРађРађРбђРБђРБђРБђРБђРБђРАђРађРађРађРађ
Рб┤РБЙРБ┐РБ┐РБ┐РБЈРБЅРБЅРБЅРБЏРБЏРБ╗РБ┐РБХРБдРБцРБђРађРађРађРађРађРађРаЎРбиРађРађРађРбаРАЪРађРађРађРађРађРађРбђРБаРБцРБХРБЙРБ┐РБЏРБЏРБІРБЅРБЅРБЅРБ┐РБ┐РБ┐РБ┐РБХРаё
РађРаЎРб┐РБ┐РБ┐РБ┐РАЂРађРађРБЅРА┐РаІРаЅРаЅРаЎРаЏРа╗Рб┐РБдРБёРађРађРађРађРаўРБЄРађРбђРАЪРађРађРађРађРбђРБцРБЙРа┐РаЏРаІРаЅРаЅРаЅРа╗РБЈРАЅРађРаѕРБ╣РБ┐РБ┐РБ┐РаЪРаЂРађ
РађРађРађРаЎРБ┐РБ┐РБЪРаЅРаЅРБЎРАЄРађРађРађРађРађРађРађРаѕРаЏРб┐РБдРАђРађРађРб╣РађРБИРаЃРађРађРБаРБЙРаЪРаІРађРађРађРађРађРађРађРбђРБ┐РАЅРаЅРа╣РБ┐РБ┐РАЪРаЅРађРађРађ
РађРађРађРађРаѕРб┐РБ┐РБЪРаЅРбЅРБ┐РБдРБёРБђРБђРађРађРађРађРађРађРаЎРб┐РБдРАђРаИРАЄРА┐РађРБаРБЙРаЪРаЂРађРађРађРађРађРбђРБђРБђРБцРБЙРБЇРаЅРаЎРБ┐РБ┐РА»РађРађРађРађРађ
РађРађРађРађРађРаИРБ┐РБ┐РБ┐РаЅРађРађРБђРБеРАЪРаЏРаЏРањРањРацРбёРБђРађРаЎРб┐РБєРБиРБДРБЙРаЪРаЂРађРБђРацРаёРањРаџРаЏРаЏРБ»РБђРАђРађРаЅРб╣РБ┐РБ┐РА┐РађРађРађРађРађРађ
РађРађРађРађРађРађРаИРБ┐РБ┐РБ┐РАЪРаЅРБђРАцРбиРАдРаёРађРађРађРађРаѕРаЎРабРБїРБ╗РБ┐РБ┐РбІРацРаџРаЅРађРађРађРађРађРааРБХРаиРБёРАѕРаЎРБ┐РБ┐РБ┐РА┐РађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРаИРа┐РБ┐РБ┐РБ┐РБЂРАцРаЙРБиРБцРБ┤РаХРбХРБњРА╗Ра┐Ра┐РбЏРБ┐РБ┐РБ┐РБЪРаЏРайРа┐РбЊРБ▓РаХРбХРБдРБ┤РАЪРадРБёРБ╣РБ┐РБ┐РА┐РаЪРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРаЏРаЏРБ┐РБ┐РБ┐РбЏРБЅРаЦРањРаЅРаЂРађРБђРаћРбѕРаћРБйРБ┐РБ┐РАЮРбїРањРбёРАђРађРаЅРаЉРабРбЇРБЎРб╗РБ┐РБ┐РАЪРаЏРаЂРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРБаРБЙРБ┐РаІРађРађРађРбђРАцРаіРађРА┤РаІРБ╝РАЪРБ┐РАЪРб┐РАёРа│РАёРаѕРабРБђРађРађРађРаѕРб╗РБиРБцРађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРбаРБ┐РБ»РбйРБђРађРБђРБ┤РАЈРађРбђРАъРаЂРБИРА┐РађРаЅРађРаўРБ┐РАђРаЎРБєРађРаўРБиРБёРАђРбђРАИРб»РБ┐РАЄРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРаџРБ┐РБ┐РАХРаІРА┐РаІРБйРаиРБХРАЪРађРб░РБ┐РаЃРађРађРађРађРб╣РБДРађРаўРБиРАќРб┐РАЇРа╗РАЈРа│РБХРБ┐РАЪРаѓРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРбаРБ┐РБ┐РБиРАъРађРбаРАЄРб░РАЪРађРађРБЙРАЈРађРађРађРађРађРаѕРБ┐РАєРађРаўРБДРађРБиРађРа╣РБХРБ┐РБ┐РАЄРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРбИРБ┐РБ┐РБ┐РБХРАЪРаЎРБ┐РАђРађРБ░РА┐РађРађРађРађРађРађРађРаИРБиРАђРађРБ╣РБЪРаЎРБиРБЙРБ┐РБ┐РБ┐РађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРаЅРаЎРб┐РБ┐РБ┐РБ┐РА┐Ра┐Ра┐РаЏРаЂРађРађРађРађРађРађРађРађРаЎРа┐Ра┐Ра┐РБ┐РБ┐РБ┐РБ┐РаЪРаЅРаЂРађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРађРбаРБ┐РаЂРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРб╣РБДРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРБ░РБ┐РБ┐РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРбИРБ┐РБиРАђРађРађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРб┐РБ┐РаЄРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРб┐РБ┐РаЄРађРађРађРађРађРађРађРађРађРађРађРађРађ
ART
}

# Fungsi untuk memilih banner dengan menu interaktif
select_banner() {
  local choice=""
  local running=true
  
  while $running; do
    show_banner_menu "PILIH BANNER FAVORIT" "no"
    echo -e "${BLUE}Pilih nomor banner (1-6) [ENTER=6/Random]:${NC} \c"
    read -r choice
    
    if [[ -z "$choice" ]]; then
      choice="6"
    fi
    
    # Validasi input
    if [[ "$choice" =~ ^[1-6]$ ]]; then
      echo "$choice" > "$CHOICE_FILE"
      case $choice in
        1) BANNER_NAME="Skull" ;;
        2) BANNER_NAME="Spider" ;;
        3) BANNER_NAME="Dragon" ;;
        4) BANNER_NAME="One Piece" ;;
        5) BANNER_NAME="Butterfly" ;;
        6) BANNER_NAME="Random" ;;
      esac
      echo -e "\n${GREEN}РюЁ Banner terpilih: ${YELLOW}$BANNER_NAME${NC}"
      running=false
      sleep 2
    else
      echo -e "\n${RED}Pilihan tidak valid! Harus 1-6${NC}"
      sleep 2
    fi
  done
}

# Fungsi untuk menu pasca-instalasi
post_installation_menu() {
  local choice=""
  local running=true
  
  while $running; do
    show_banner_menu "MENU KONFIGURASI" "yes"
    echo -e "${BLUE}Pilih opsi (1-9):${NC} \c"
    read -r choice
    
    case $choice in
      1|2|3|4|5|6)
        # Ganti banner
        echo "$choice" > "$CHOICE_FILE"
        case $choice in
          1) BANNER_NAME="Skull" ;;
          2) BANNER_NAME="Spider" ;;
          3) BANNER_NAME="Dragon" ;;
          4) BANNER_NAME="One Piece" ;;
          5) BANNER_NAME="Butterfly" ;;
          6) BANNER_NAME="Random" ;;
        esac
        echo -e "\n${GREEN}РюЁ Banner diganti: ${YELLOW}$BANNER_NAME${NC}"
        echo -e "${YELLOW}Perubahan akan aktif setelah restart Termux${NC}"
        sleep 3
        ;;
      7)
        # Preview banner
        echo -e "\n${BLUE}Pilih banner yang ingin dipreview (1-6):${NC} \c"
        read -r preview_choice
        if [[ "$preview_choice" =~ ^[1-6]$ ]]; then
          preview_banner "$preview_choice"
        else
          echo -e "\n${RED}Pilihan tidak valid!${NC}"
          sleep 2
        fi
        ;;
      8)
        # Ganti nama
        show_header
        echo -e "${YELLOW}GANTI NAMA PENGGUNA${NC}\n"
        echo -e "${PURPLE}Masukkan nama baru:${NC} \c"
        read -r new_name
        if [[ -n "$new_name" ]]; then
          echo "$new_name" > "$NAME_FILE"
          # Update .zshrc dengan nama baru
          sed -i "s/export USER=\".*\"/export USER=\"$new_name\"/" "$ZSHRC"
          echo -e "\n${GREEN}РюЁ Nama diganti menjadi: ${YELLOW}$new_name${NC}"
          echo -e "${YELLOW}Perubahan akan aktif setelah restart Termux${NC}"
        else
          echo -e "\n${RED}Nama tidak boleh kosong!${NC}"
        fi
        sleep 3
        ;;
      9)
        # Keluar
        echo -e "\n${GREEN}Terima kasih!${NC}"
        running=false
        ;;
      *)
        echo -e "\n${RED}Pilihan tidak valid!${NC}"
        sleep 2
        ;;
    esac
  done
}

# Fungsi untuk membuat file banner ZSH
create_banner_file() {
  show_header
  echo -e "${YELLOW}[6/7] Membuat file banner...${NC}\n"
  
  cat > "$BANNER_FILE" <<'EOF'
# ~/.config/termux-banner.zsh
# ZSH Banner Configuration

# Cek apakah ini interactive shell
[[ -o interactive ]] || return 0

# Bersihkan layar
clear

# ==== Gradient Printer ====
gradient_print() {
  local -a PALETTES=(
    "196 202 208 214 220 190 154 118 82 46 47 48 49 51 39 27 21 57 93 129 165 201"
    "201 198 200 129 93 57 21 27 39 45 51 50 49 48 47 46 82 118 154 190 220 214 208"
    "33 39 45 51 50 49 48 47 46 82 118 154 148 142 136 130 124 160 196"
    "51 87 123 159 195 231 195 159 123 87 51"
  )
  local pick=$((RANDOM % ${#PALETTES[@]}))
  local COLORS=(${=PALETTES[$pick]})

  local i=0 line
  while IFS= read -r line; do
    local c=${COLORS[$((i % ${#COLORS[@]})) + 1]}
    printf "\033[38;5;%sm%s\033[0m\n" "$c" "$line"
    i=$((i + 1))
  done
}

# ==== ASCII Banners ====
banner_skull() {
  cat <<'ART'
РађРађРађРађРађРађРађРБђРБцРБ┤РБХРБХРБХРБ┐РБ┐РБ┐РБиРБХРБХРБХРБцРБёРађРађРађРађРађРађРађРађ
РађРађРађРађРађРБаРБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБХРБцРАђРађРађРађРађ
РађРађРађРБаРБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБёРађРађРађ
РађРБаРБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБиРАђРађ
Рб░РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБиРАђ
РБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБЄ
РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐
РБ┐РБ┐РАЈРаЅРаЎРа┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐Ра┐РаІРаЅРаЅРБ┐РБ┐
Рб╗РБ┐РАЄРађРађРађРаѕРаЎРа╗РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РаЪРаІРађРађРађРађРбђРБ┐РАЄ
РаўРБ┐РБиРАђРађРађРађРађРађРађРаЅРаЏРа┐Рб┐РБ┐РБ┐РБ┐Ра┐РаЏРаІРађРађРађРађРађРађРбђРБ╝РБ┐РаЃ
РађРа╣РБ┐РБ┐РБХРБдРБцРБђРБђРБђРБђРБђРБцРБХРаЪРА┐РБиРБдРБёРБђРБђРБђРБаРБцРБцРБХРБ┐РБ┐РАЪРађ
РађРађРБеРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РаЈРађРАЄРаИРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РаЃРађ
РађРбѕРБ┐РБ┐РБ┐РБ┐РБ┐РА┐Ра┐Ра┐РБ┐РБ┐РБиРађРБ╝РБиРађРБИРБ┐РБ┐РБ┐РА┐Ра┐Ра┐Ра┐РБ┐РБ┐РБ┐РАЄРађ
РађРаўРБ┐РБ┐РБ┐РАЪРаІРађРађРа░РБ┐РБ┐РБ┐РБиРБ┐РБ┐РБиРБ┐РБ┐РБ┐РБ┐РАЄРађРађРађРБ┐РБ┐РаЪРаЂРађ
РађРађРаѕРаЅРађРаѕРаЂРађРађРаўРБ┐РБ┐Рб┐РБ┐РБ┐Рб╗РБ┐РАЈРБ╗РБ┐РБ┐РаЃРађРађРађРаѕРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРБ┐РБ┐РАЄРБ┐РБ┐РбИРБ┐РАЄРБ┐РБ┐РАЄРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРБ┐РБ┐РАЄРБ┐РБ┐РбИРБ┐РАЄРБ┐РБ┐РађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРбИРБ┐РАЄРБ┐РБ┐РбИРБ┐РАЄРБ┐РБ┐РађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРбИРБ┐РАЄРБ┐РБ┐РбИРБ┐РаЃРБ┐РБ┐РађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРаИРБ┐РАЄРБ┐РБ┐РбИРБ┐РађРБ┐РБ┐РађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРа┐РаЄРб┐РА┐РбИРА┐РађРа┐РаЪРађРађРађРађРађРађРађРађРађРађ
ART
}

banner_spider() {
  cat <<'ART'
      РађРађРађРађРађРађРбђРаєРађРбђРАєРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРб░РАђРађРа░РАђРађРађРађРађРађРађРађ
      РађРађРађРађРађРбаРАЈРађРбђРБЙРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРбиРАђРађРб╣РБёРађРађРађРађРађРађ
     РађРађРађРађРађРБ░РАЪРађРађРБ╝РАЄРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРаИРБДРађРађРб╗РБєРађРађРађРађРађ
     РађРађРађРађРбаРБ┐РаЂРађРБИРБ┐РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРБ┐РБЄРађРаѕРБ┐РАєРађРађРађРађ
     РађРађРађРађРБЙРАЄРађРбђРБ┐РАЄРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРбИРБ┐РАђРађРбИРБ┐РађРађРађРађ
     РађРађРађРБ┐РБ┐РађРађРБ┐РБ┐РБДРБцРБцРБцРБцРБцРБцРАђРађРБђРађРађРБђРађРбђРБцРБцРБцРБцРБцРБцРБ╝РБ┐РБ┐РађРађРБ┐РБ┐РађРађРађ
     РађРађРбИРБ┐РАЈРађРађРађРаЎРбЅРБЅРБЕРБ┤РБХРБцРБЎРБ┐РБХРБ»РБдРБ┤РБ╝РБиРБ┐РБІРБцРБХРБдРБЇРБЅРАЅРаІРађРађРађРбИРБ┐РАЄРађРађ
     РађРађРб┐РБ┐РБиРБцРБХРБХРа┐Ра┐РаЏРаІРБЅРАЅРаЎРбЏРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РАЏРаЏРбЅРБЅРаЎРаЏРа┐Ра┐РБХРБХРБцРБЙРБ┐РА┐РађРађ
     РађРађРађРаЎРа╗РаІРаЅРађРађРађРБаРБЙРА┐РаЪРаЏРБ╗РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБЪРаЏРа╗Рб┐РБиРБёРађРађРађРаЅРаЎРаЪРаІРађРађРађ
     РађРађРађРађРађРађРађРбђРБцРБЙРа┐РаІРбђРБаРБЙРаЪРбФРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РАЇРа╗РБиРБёРАђРаЎРа┐РБиРБцРАђРађРађРађРађРађРађРађ
     РађРађРађРађРађРБаРБ┤РА┐РаЏРаЂРађРбИРБ┐РБ┐РаІРађРбИРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РАЌРађРаЎРБ┐РБ┐РАЄРађРаѕРаЏРб┐РБдРБёРађРађРађРађРађ
     РбђРађРБђРБ┤РБЙРаЪРаІРађРађРађРађРбИРБ┐РБ┐РађРађРбИРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РАЄРађРађРБ┐РБ┐РАЄРађРађРађРађРаЎРа╗РБиРБдРБђРађРБђ
     РбИРБ┐РБ┐РаІРаЂРађРађРађРађРађРађРбИРБ┐РБ┐РађРађРаѕРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РаЂРађРађРБ┐РБ┐РАЄРађРађРађРађРађРађРаѕРаЎРБ┐РБ┐РАЪ
     РбИРБ┐РАЈРађРађРађРађРађРађРађРађРбИРБ┐РБ┐РађРађРађРб╣РБ┐РБ┐РБ┐РБ┐РАЈРађРађРађРБ┐РБ┐РАЄРађРађРађРађРађРађРађРађРб╣РБ┐РАЄ
     РбИРБ┐РБиРађРађРађРађРађРађРађРађРбИРБ┐РБ┐РађРађРађРађРб┐РБ┐РБ┐РА┐РађРађРађРађРБ┐РБ┐РАЄРађРађРађРађРађРађРађРађРБЙРБ┐РАЄ
     РађРБ┐РБ┐РађРађРађРађРађРађРађРађРбИРБ┐РБ┐РађРађРађРађРаѕРа┐Ра┐РаЂРађРађРађРађРБ┐РБ┐РАЄРађРађРађРађРађРађРађРађРБ┐РБ┐Рађ
     РађРаўРБ┐РАЄРађРађРађРађРађРађРађРађРБ┐РБ┐РађРађРађРађРађРађРађРађРађРађРађРађРБ┐РБ┐РађРађРађРађРађРађРађРађРбИРБ┐РаЃРађРађ
     РађРађРађРб╗РАєРађРађРађРађРађРађРађРаИРБ┐РАёРађРађРађРађРађРађРађРађРађРађРбђРБ┐РаЄРађРађРађРађРађРађРађРб░РАЪРађРађРађ
     РађРађРађРађРбиРађРађРађРађРађРађРађРађРб┐РАЄРађРађРађРађРађРађРађРађРађРађРбИРА┐РађРађРађРађРађРађРађРађРАЙРађРађРађРађ
     РађРађРађРађРаѕРбДРађРађРађРађРађРађРађРаИРБиРађРађРађРађРађРађРађРађРађРађРБЙРаЄРађРађРађРађРађРађРађРАИРаЂРађРађРађРађ
     РађРађРађРађРађРађРађРађРађРађРађРађРађРађРб╣РАєРађРађРађРађРађРађРађРађРб░РАЪРађРађРађРађРађРађРађРађРаЂРађРађРађРађРађ
     РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРб│РађРађРађРађРађРађРађРађРАъРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађ
     РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРаБРађРађРађРађРађРађРаюРађРађ
ART
}

banner_dragon() {
  cat <<'ART'
РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРБђРБцРА┤РаѓРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРбђРБаРБ┤РБ┐РаЪРаЅРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРбђРБаРБХРБ┐РБ┐РБ┐РАЁРађРађРађРађРађРађРађРађРбђРБђРБђРБђРБђРБђРБђРБђРБђРБђРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРбђРБаРБцРБцРБцРБцРБ┤РБ┐РБ┐РБ┐РБ┐РБ»РБцРБХРБХРБЙРБ┐РБХРБХРБ┐РБ┐РБ┐РБ┐РБ┐РА┐Ра┐РаЪРаЏРаЅРаЅРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРаљРаЅРаЂРаѕРБ╣РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБиРБХРБХРБХРаХРаХРадРаёРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРбђРБаРБЙРА┐РаЪРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБиРБдРАђРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРбђРБ┤РБЙРБ┐РБЪРБАРБцРБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РбЈРаЅРаЏРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РА╗Рб┐РБ┐РБ┐РБдРАђРађРађРађРађРађ
РађРађРађРађРађРБђРБцРБХРБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РаЃРаѕРа╗РАёРаЂРађРбИРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБєРаѕРаЎРа╗РБ┐РБєРађРађРађРађ
РађРађРађРађРб░РБ┐РБ┐РБ┐РБ┐РА┐РаЏРаЅРаЅРаЅРаЏРаЏРаЏРаЏРаІРаЂРађРађРађРаЂРађРБаРБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБДРађРађРаѕРаЎРбДРађРађРађ
РађРађРађРађРађРаЎРа┐РаЪРаЂРађРађРађРађРађРађРађРађРађРађРађРБђРБђРБцРБ┤РБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РАєРађРађРађРађРаЂРађРађ
РађРађРађРађРађРађРађРађРађРађРаѕРаЎРб╗РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РаЪРаЎРБ┐РБ┐РБ┐РБиРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРбђРБцРБ┤РБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РаЪРаЂРађРађРб╣РБ┐РБ┐РБ┐РађРађРађРађРађРађРађ
РађРађРађРађРбђРБцРБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РА┐РаЪРаІРаЂРађРађРађРађРаѕРБ┐РБ┐РАЪРађРађРађРађРађРађРађ
РађРађРађРБ┤РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐Ра┐РаЪРаЏРбІРБЕРА┐Ра┐Ра┐РаЪРаЏРаІРаЂРађРађРађРађРађРађРађРађРађРБ┐РАЪРаЂРађРађРађРађРађРађРађ
РађРбђРБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РА┐РаІРађРађРађРађРађРађРађРађРађРађРађРађРааРБёРБђРАђРађРађРађРађРађРаљРаЅРађРађРађРађРађРађРађРађРађ
РађРБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐Ра╗РБ┐РБ┐РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРаЅРа╗Рб┐РБХРБцРБёРАђРађРађРађРађРађРађРађРађРађРађРађ
Рб░РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РАёРаЎРб┐РБёРађРађРађРађРађРађРађРађРааРБцРБђРађРађРађРааРБёРБђРБђРАЅРб╗РБ┐РБ┐РБ┐РБХРБёРАђРађРађРађРађРађРађРађ
РаўРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБдРБёРБђРађРађРађРађРађРађРађРађРађРаѕРБ┐РБ┐РБдРБцРБцРБХРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБиРБёРАђРађРађРађРађ
РађРб╗РАЪРаЎРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐Ра┐РаЏРаЏРаІРаЅРађРађРбђРБаРБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБдРАђРађРађ
РађРађРаЃРађРб╣РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБХРБХРБХРБХРБХРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РАЪРаЂРађРађРађРађРађРаѕРаЅРа╗Рб┐РБ┐РБ┐РБ┐РБиРАёРађ
РађРађРађРађРбИРБ┐РБ┐РАЪРаЎРа┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РА┐Ра┐РаЏРаЏРБ┐РБ┐РБ┐РБ┐РБ┐РБДРБђРБђРАёРађРађРађРађРађРађРаѕРБ┐РА┐РБ┐РБ┐РБиРађ
РађРађРађРађРбИРБ┐РА┐РаЂРађРађРађРаЎРа╗Ра┐РБЪРа╗Рб┐РБ┐РБ┐РБ┐РБиРБдРАђРађРаѕРа╗Рб┐РБ┐РБ┐РБГРБЅРАЅРађРађРађРађРађРађРађРађРаўРађРаИРБ┐РБ┐РАё
РађРађРађРађРБИРАЪРаЂРађРађРађРађРађРађРађРађРађРађРађРаЅРаЏРб┐РБ┐РБ┐РБдРАђРађРађРађРаЅРаЅРаЅРаЅРаЅРаЅРаЂРађРађРађРађРађРађРађРађРБ┐РБ┐РаЂ
РађРађРађРааРаІРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРаѕРаЎРб┐РБ┐РБєРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРБ┐РАЪРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРаЎРб┐РАєРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРб░РаЪРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРаЂРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРаЂ
ART
}

banner_onepiece() {
  cat <<'ART'
РађРађРађРађРађРађРб┤РБХРадРБёРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРАаРа┤РБХРацРађРађРађРађРађРађ
РађРађРађРађРбѓРБЙРБ┐РБ┐РБ┐РбиРаЉРађРађРађРађРађРађРађРађРбљРБХРАЇРБ┤РБ┐РБ┐РБ┐РБ┐РБёРбЦРБХРАаРађРађРађРађРађРађРађРађРбаРБ║РБ┐РБ┐РБ┐РАєРађРађРађРађРађ
РађРађРађРбђРБбРБ┐РБ┐РБ┐РБ┐РаёРа▒РађРађРађРађРАаРбђРаљРБ┤РБ┐РБ┐РбАРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РАєРб┐РБ┐РБєРбфРАѓРађРађРађРађРађРаїРаЅРБ┐РБ┐РБ┐РБДРБёРАђРађРађРађ
РађРађРБ┤РБ┐РБ┐РБ┐Ра┐РБ┐РБиРБцРАбРађРађРађРбфРБјРА«Ра╝РбЏРБІРБЕРБгРБГРБГРБГРБГРБГРБГРБЦРаўРаЏРаЏРаЈРб│РБ▒РАаРађРађРађРбђРБ┤РА┐Рб╗Ра┐РБ┐РБ┐РаЈРађРаѓРађ
РађРаљРаѕРаЎРаЏРаЏРаАРађРбЎРб┐РБ┐РБдРађРањРаЅРађРБЙРБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐Ра┐Ра┐РБ┐РБ┐РБ┐РађРађРађРађРађРађРаЅРађРбаРБ┤Ра┐РаІРађРађРађРа╗РБ┐РаёРАаРаЂРађ
РађРађРађРаЉРаѓРађРађРађРађРађРаѕРаІРађРађРађРбИРБЏРБЅРБЕРБцРацРацРацРацРацРацРацРацРбцРБцРБёРБђРБђРађРађРађРађРађРАЁРађРађРађРађРађРаљРањРаіРађРађРађ
РађРађРађРађРађРађРађРађРбђРБђРАцРа┤РањРаџРБЕРБГРАхРаХРаќРаЏРаЏРаЏРаЏРаЏРаЏРаЏРаЏРаЏРаЏРаІРађРађРаѕРаЅРаЅРаЉРањРабРацРбђРАђРађРађРађРађРађРађРађРађРађ
РађРађРађРађРбђРАаРаћРБіРБГРАёРађРађРађРађРађРађРБђРБаРБцРБХРБХРБ┐РБ┐РБ┐РБ┐РБ┐РБХРБХРБцРБђРађРађРађРађРађРађРађРађРађРаљРБХРБГРБњРАаРађРађРађРађРађРађ
РађРађРађРаћРБФРБХРБ┐РБ┐РА┐РаЃРађРађРађРбђРБ┤РаЙРаЏРаЎРаІРаЎРаЏРб┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐Ра┐РаЏРаЅРађРађРађРађРађРађРађРађРађРаЏРб┐РБ┐РБ┐РБХРБёРађРађРађРађ
РађРађРбїРБЙРБ┐Ра┐РаЏРаЅРађРађРађРађРбђРАЙРаЂРађРађРађРађРађРађРађРб╣РБ┐РБ┐РБ┐РБ┐РаЈРађРађРађРађРађРађРађРађРађРађРађРађРађРађРаѕРаЎРа╗РБ┐РБиРАѓРађРађ
РађРађРаўРБЪРБЂРБаРАцРађРађРађРађРађРбИРБЪРађРађРађРађРађРађРађРађРађРБ┐РБ┐РБ┐РБ┐РађРађРађРађРађРађРађРађРаѕРађРађРАёРађРађРађРа▓РбцРБцРБђРБЎРаІРађРађ
РађРађРађРаЎРа┐РаІРбђРБцРаёРађРађРб░РАўРБ┐РАёРађРађРађРађРађРађРађРБ░РБ┐РаЪРа╗РБ┐РАёРађРађРађРађРађРађРађРАўРађРб░РАЄРађРађРБцРБёРАђРаѕРбЪРаЋРађРађРађ
РађРађРађРађРађРаѕРаЎРбЏРАђРБаРБ┤РАёРАЄРаЎРБ┐РБдРБђРБђРБаРБђРБаРБ┤РА┐РаЃРађРађРаўРБ┐РБдРБђРађРађРађРађРађРађРбђРБЙРбАРБдРАђРаЇРаЏРаЇРаіРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРаѕРаЂРаўРБёРаѕРа╗РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБЄРађРБаРБёРађРБйРБ┐РБ┐РБ┐РаЪРаЂРађРађРбђРАЙРаЃРаѕРаЂРаѕРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРаѕРаЂРађРађРаЅРаЏРа┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РА┐РаЪРаЂРађРађРађРађРаІРађРађРађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРБХРађРБдРАёРБцРБцРАёРбаРБгРАЂРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРбђРБ┤РаЙРаЂРађРБђРАђРаЏРаЃРа┐Ра┐РаЄРаИРа┐РаЄРађРађРађРађРађРађРббРБЋРАђРађРађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРааРађРаѓРађРађРађРађРБаРБХРаЈРаѓРађРађРађРа╗РађРБ┐РАЄРБХРБХРАєРб░РБХРАєРађРађРађРађРађРађРађРа╣РБ┐РБдРБђРађРађРађРађРађРађРАђРађРађРађРађ
РађРађРбаРБЙРБ┐РБ┐РБиРАёРбђРБ╝РБЙРаЪРаЂРАаРаћРађРађРађРађРааРбЎРаЃРа┐Ра┐РаЄРаИРа┐РаЄРађРађРађРАаРаѓРађРађРађРаѕРаЏРб┐РБиРБёРАђРБ┤РБ┐РБ┐РБ┐РаЄРађРађРађ
РађРађРаѕРаЏРа┐Рб┐РБ┐РБ┐РБ┐РАЄРађРа┤РаіРађРађРађРађРађРађРаЉРаеРаЎРБЊРБњРањРБХРБѓРБњРабРаћРаіРађРађРађРађРађРађРађРађРаЎРБ┐РБ┐РБ┐РБ┐РБ┐РБ»РАђРааРађРађ
РађРађРађРађРаѓРб╝РБ┐РБ┐РБ┐РаЄРааРАђРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРбђРБ┐РБ┐РБ┐РаЄРађРањРаѕРађРађРађ
РађРађРађРађРађРАђРаЎРб╗РБ┐РаёРБаРаЃРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРаљРАђРаЎРб╗РБ┐РацРАаРаЂРађРађРађРађ
РађРађРађРађРађРаѕРаЉРањРањРаІРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРаѕРаЉРањРањ
ART
}

banner_butterfly() {
  cat <<'ART'
РађРађРађРађРБђРБђРБђРБђРБђРБђРАђРађРађРађРађРађРађРађРађРађРађРб┤РБцРБёРађРађРађРађРађРбђРБцРБХРаёРађРађРађРађРађРађРађРађРађРађРбђРБђРБђРБђРБђРБђРАђРађРађРађРађ
Рб┤РБЙРБ┐РБ┐РБ┐РБЈРБЅРБЅРБЅРБЏРБЏРБ╗РБ┐РБХРБдРБцРБђРађРађРађРађРађРађРаЎРбиРађРађРађРбаРАЪРађРађРађРађРађРађРбђРБаРБцРБХРБЙРБ┐РБЏРБЏРБІРБЅРБЅРБЅРБ┐РБ┐РБ┐РБ┐РБХРаё
РађРаЎРб┐РБ┐РБ┐РБ┐РАЂРађРађРБЅРА┐РаІРаЅРаЅРаЎРаЏРа╗Рб┐РБдРБёРађРађРађРађРаўРБЄРађРбђРАЪРађРађРађРађРбђРБцРБЙРа┐РаЏРаІРаЅРаЅРаЅРа╗РБЈРАЅРађРаѕРБ╣РБ┐РБ┐РБ┐РаЪРаЂРађ
РађРађРађРаЎРБ┐РБ┐РБЪРаЅРаЅРБЎРАЄРађРађРађРађРађРађРађРаѕРаЏРб┐РБдРАђРађРађРб╣РађРБИРаЃРађРађРБаРБЙРаЪРаІРађРађРађРађРађРађРађРбђРБ┐РАЅРаЅРа╣РБ┐РБ┐РАЪРаЅРађРађРађ
РађРађРађРађРаѕРб┐РБ┐РБЪРаЅРбЅРБ┐РБдРБёРБђРБђРађРађРађРађРађРађРаЎРб┐РБдРАђРаИРАЄРА┐РађРБаРБЙРаЪРаЂРађРађРађРађРађРбђРБђРБђРБцРБЙРБЇРаЅРаЎРБ┐РБ┐РА»РађРађРађРађРађ
РађРађРађРађРађРаИРБ┐РБ┐РБ┐РаЅРађРађРБђРБеРАЪРаЏРаЏРањРањРацРбёРБђРађРаЎРб┐РБєРБиРБДРБЙРаЪРаЂРађРБђРацРаёРањРаџРаЏРаЏРБ»РБђРАђРађРаЅРб╣РБ┐РБ┐РА┐РађРађРађРађРађРађ
РађРађРађРађРађРађРаИРБ┐РБ┐РБ┐РАЪРаЅРБђРАцРбиРАдРаёРађРађРађРађРаѕРаЎРабРБїРБ╗РБ┐РБ┐РбІРацРаџРаЅРађРађРађРађРађРааРБХРаиРБёРАѕРаЎРБ┐РБ┐РБ┐РА┐РађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРаИРа┐РБ┐РБ┐РБ┐РБЂРАцРаЙРБиРБцРБ┤РаХРбХРБњРА╗Ра┐Ра┐РбЏРБ┐РБ┐РБ┐РБЪРаЏРайРа┐РбЊРБ▓РаХРбХРБдРБ┤РАЪРадРБёРБ╣РБ┐РБ┐РА┐РаЪРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРаЏРаЏРБ┐РБ┐РБ┐РбЏРБЅРаЦРањРаЅРаЂРађРБђРаћРбѕРаћРБйРБ┐РБ┐РАЮРбїРањРбёРАђРађРаЅРаЉРабРбЇРБЎРб╗РБ┐РБ┐РАЪРаЏРаЂРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРБаРБЙРБ┐РаІРађРађРађРбђРАцРаіРађРА┤РаІРБ╝РАЪРБ┐РАЪРб┐РАёРа│РАёРаѕРабРБђРађРађРађРаѕРб╗РБиРБцРађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРбаРБ┐РБ»РбйРБђРађРБђРБ┤РАЈРађРбђРАъРаЂРБИРА┐РађРаЅРађРаўРБ┐РАђРаЎРБєРађРаўРБиРБёРАђРбђРАИРб»РБ┐РАЄРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРаџРБ┐РБ┐РАХРаІРА┐РаІРБйРаиРБХРАЪРађРб░РБ┐РаЃРађРађРађРађРб╣РБДРађРаўРБиРАќРб┐РАЇРа╗РАЈРа│РБХРБ┐РАЪРаѓРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРбаРБ┐РБ┐РБиРАъРађРбаРАЄРб░РАЪРађРађРБЙРАЈРађРађРађРађРађРаѕРБ┐РАєРађРаўРБДРађРБиРађРа╣РБХРБ┐РБ┐РАЄРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРбИРБ┐РБ┐РБ┐РБХРАЪРаЎРБ┐РАђРађРБ░РА┐РађРађРађРађРађРађРађРаИРБиРАђРађРБ╣РБЪРаЎРБиРБЙРБ┐РБ┐РБ┐РађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРаЅРаЎРб┐РБ┐РБ┐РБ┐РА┐Ра┐Ра┐РаЏРаЂРађРађРађРађРађРађРађРађРаЎРа┐Ра┐Ра┐РБ┐РБ┐РБ┐РБ┐РаЪРаЅРаЂРађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРађРбаРБ┐РаЂРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРб╣РБДРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРБ░РБ┐РБ┐РађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРбИРБ┐РБиРАђРађРађРађРађРађРађРађРађРађРађРађРађРађ
РађРађРађРађРађРађРађРађРађРађРађРађРађРб┐РБ┐РаЄРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРб┐РБ┐РаЄРађРађРађРађРађРађРађРађРађРађРађРађРађ
ART
}

# ==== Banner picker untuk ZSH ====
show_selected_banner() {
  local CHOICE_FILE="${HOME}/.config/termux-banner-choice.txt"
  local CHOICE
  
  if [[ -f "$CHOICE_FILE" ]]; then
    CHOICE=$(cat "$CHOICE_FILE")
  else
    CHOICE="6"
  fi
  
  case $CHOICE in
    1) banner_skull ;;
    2) banner_spider ;;
    3) banner_dragon ;;
    4) banner_onepiece ;;
    5) banner_butterfly ;;
    6)
      local banners=(banner_skull banner_spider banner_dragon banner_onepiece banner_butterfly)
      local pick=$((RANDOM % 5 + 1))
      "banner_$pick"
      ;;
    *)
      local banners=(banner_skull banner_spider banner_dragon banner_onepiece banner_butterfly)
      local pick=$((RANDOM % 5 + 1))
      "banner_$pick"
      ;;
  esac | gradient_print
}

# Tanggal
show_date() {
  local hari tgl bln thn
  
  # Coba set locale
  if locale -a 2>/dev/null | grep -q "id_ID"; then
    hari=$(LC_TIME=id_ID.UTF-8 date +"%A" 2>/dev/null || date +"%A")
  else
    hari=$(date +"%A")
  fi
  
  tgl=$(date +"%d")
  bln=$(date +"%m")
  thn=$(date +"%Y")
  
  # Cek figlet
  if command -v figlet >/dev/null 2>&1; then
    printf "\033[2;90m"; figlet -f term -c -t "Powered by L4EROOR/KMB" 2>/dev/null || echo "Powered by L4EROOR/KMB"
  else
    echo -e "\033[2;90mPowered by L4EROOR/KMB\033[0m"
  fi
  
  echo -e "\n\033[1;91m        РЋ╝РЋљ\033[94mРўЙ \033[93mDATE\033[95m: \033[4;97m$hari\033[0m\033[94m , \033[4;92m$tgl\033[0m\033[95m-\033[4;92m$bln\033[0m\033[95m-\033[4;92m$thn\033[0m\033[94m Рўй\033[91mРЋљРЋЙ"
}

# Main execution
show_selected_banner
show_date
EOF

  echo -e "${GREEN}РюЁ File banner created: ${YELLOW}$BANNER_FILE${NC}"
  sleep 2
}

# Fungsi untuk membuat .zshrc
create_zshrc() {
  show_header
  echo -e "${YELLOW}[7/7] Mengkonfigurasi .zshrc...${NC}\n"
  
  # Backup .zshrc jika ada
  if [[ -f "$ZSHRC" ]]; then
    cp "$ZSHRC" "${ZSHRC}.backup"
    echo -e "${YELLOW}Рџа№ИЈ  Backup .zshrc ke .zshrc.backup${NC}"
  fi
  
  # Ambil nama user
  USER_NAME=$(<"$NAME_FILE")
  
  # Buat .zshrc baru
  cat > "$ZSHRC" <<EOF
# Path to your oh-my-zsh installation
export ZSH="\$HOME/.oh-my-zsh"

# Theme
ZSH_THEME="robbyrussell"

# Plugins
plugins=(
  git
  zsh-autosuggestions
  zsh-syntax-highlighting
  zsh-completions
  command-not-found
  history
  vi-mode
)

# Sumber oh-my-zsh
source \$ZSH/oh-my-zsh.sh

# Pengaturan user
export USER="${USER_NAME}"

# Aliases
alias ll='ls -la'
alias la='ls -a'
alias l='ls -l'
alias ..='cd ..'
alias ...='cd ../..'
alias update='pkg update && pkg upgrade'
alias cls='clear'
alias neo='neofetch'
alias matrix='cmatrix -b -u 2'

# Path tambahan
export PATH=\$PATH:\$HOME/bin

# Banner (hanya tampil di shell login)
if [[ -o login ]]; then
  [[ -f "${BANNER_FILE}" ]] && source "${BANNER_FILE}"
fi

# Custom PS1 dengan nama user
PROMPT='%{\033[0m%}%{\033[2;95m%}РЋГРћЂРЋљРћЂРЮе%{\e[1;94m%}${USER}%{\033[93m%}сЅ┐%{\033[1;96m%}%m%{\033[2;95m%}РЮЕРЋљРћЂРЋљРЮе%{\033[42;91m%} %~ %{\033[0m%}%{\033[2;95m%}РЮЕРЋљРЋљРЋЙ%{\033[1;94m%}[ %* ]%{\033[2;95m%}
РЋЉ 
%{\033[2;95m%}РЋ░РћЂРЋљ%{\e[1;31m%}РЮ»%{\e[1;33m%}РЮ»%{\e[1;36m%}РЮ»%{\033[0m%} %{\033[2;92m%}'

# Right prompt (menampilkan status git)
RPROMPT='%{\033[1;90m%}[%~]%{\033[0m%}'

# Autosuggestion settings
ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE='fg=240'

# Syntax highlighting
ZSH_HIGHLIGHT_HIGHLIGHTERS=(main brackets pattern cursor)

# History settings
HISTFILE=\$HOME/.zsh_history
HISTSIZE=10000
SAVEHIST=10000
setopt appendhistory
setopt incappendhistory
setopt sharehistory
setopt extendedhistory

# Completion settings
autoload -U compinit && compinit
autoload -U bashcompinit && bashcompinit
zstyle ':completion:*' menu select
zstyle ':completion:*' matcher-list 'm:{a-zA-Z}={A-Za-z}'

# Bindkey settings
bindkey -v
bindkey '^R' history-incremental-search-backward
bindkey '^A' beginning-of-line
bindkey '^E' end-of-line
bindkey '^U' backward-kill-line

# Welcome message di shell non-login
if [[ -o interactive ]] && [[ ! -o login ]]; then
  echo -e "\033[1;92mSelamat datang di ZSH, ${USER}!\033[0m"
fi
EOF

  echo -e "${GREEN}РюЁ .zshrc berhasil dikonfigurasi${NC}"
  sleep 2
}

# Fungsi untuk ganti default shell ke ZSH
change_shell() {
  show_header
  echo -e "${YELLOW}Mengganti default shell ke ZSH...${NC}\n"
  
  # Cek apakah ZSH ada di /etc/shells
  if ! grep -q "$(command -v zsh)" /etc/shells 2>/dev/null; then
    echo "$(command -v zsh)" >> /etc/shells 2>/dev/null || \
    echo -e "${YELLOW}Рџа№ИЈ  Tidak bisa menulis ke /etc/shells${NC}"
  fi
  
  # Ganti shell
  chsh -s zsh
  
  echo -e "\n${GREEN}РюЁ Default shell diganti ke ZSH!${NC}"
  echo -e "${YELLOW}Catatan: Perubahan akan aktif setelah restart Termux${NC}"
  sleep 3
}

# Fungsi untuk menampilkan ringkasan
show_summary() {
  show_header
  echo -e "${GREEN}РЋћРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋЌ${NC}"
  echo -e "${GREEN}РЋЉ${NC}                     INSTALASI SELESAI!                           ${GREEN}РЋЉ${NC}"
  echo -e "${GREEN}РЋџРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋљРЋЮ${NC}\n"
  
  echo -e "${YELLOW}­ЪЊЮ Ringkasan Instalasi:${NC}\n"
  
  # Nama user
  USER_NAME=$(<"$NAME_FILE")
  echo -e "  ${WHITE}Рђб Nama: ${CYAN}$USER_NAME${NC}"
  
  # Banner terpilih
  if [[ -f "$CHOICE_FILE" ]]; then
    CHOICE=$(<"$CHOICE_FILE")
    case $CHOICE in
      1) BANNER_NAME="Skull" ;;
      2) BANNER_NAME="Spider" ;;
      3) BANNER_NAME="Dragon" ;;
      4) BANNER_NAME="One Piece" ;;
      5) BANNER_NAME="Butterfly" ;;
      6) BANNER_NAME="Random" ;;
    esac
    echo -e "  ${WHITE}Рђб Banner: ${CYAN}$BANNER_NAME${NC}"
  fi
  
  # Komponen terinstall
  echo -e "  ${WHITE}Рђб Shell: ${CYAN}ZSH + Oh-My-Zsh${NC}"
  echo -e "  ${WHITE}Рђб Plugins: ${CYAN}autosuggestions, syntax-highlighting, completions${NC}"
  echo -e "  ${WHITE}Рђб Lokasi banner: ${CYAN}$BANNER_FILE${NC}"
  echo -e "  ${WHITE}Рђб Lokasi config: ${CYAN}$ZSHRC${NC}\n"
  
  echo -e "${PURPLE}­ЪњА Menu Konfigurasi Pasca-Instalasi:${NC}"
  echo -e "  ${YELLOW}Jalankan ulang script ini untuk mengakses menu:${NC}"
  echo -e "  ${CYAN}./install-zsh.sh${NC}\n"
  
  echo -e "${GREEN}РюЁ INSTALASI SELESAI!${NC}"
  echo -e "${YELLOW}Рџа№ИЈ  RESTART TERMUX AGAR PERUBAHAN BERLAKU${NC}\n"
  echo -e "${BLUE}Tekan ENTER untuk masuk ke menu konfigurasi...${NC}"
  read -r
  
  # Tampilkan menu pasca-instalasi
  post_installation_menu
}

# Fungsi untuk mengecek instalasi yang sudah ada
check_existing_installation() {
  if [[ -f "$CHOICE_FILE" ]] || [[ -f "$NAME_FILE" ]] || [[ -f "$BANNER_FILE" ]] || [[ -d "$OHMYZSH_DIR" ]]; then
    show_header
    echo -e "${YELLOW}Рџа№ИЈ  Deteksi instalasi yang sudah ada!${NC}\n"
    echo -e "  ${WHITE}Рђб File konfigurasi ditemukan${NC}"
    echo -e "  ${WHITE}Рђб Oh-My-Zsh sudah terinstall${NC}\n"
    echo -e "${PURPLE}Pilih opsi:${NC}"
    echo -e "  ${GREEN}[1]${NC} - Instalasi ulang lengkap (reset semua config)"
    echo -e "  ${GREEN}[2]${NC} - Masuk ke menu konfigurasi (ganti banner/nama)"
    echo -e "  ${GREEN}[3]${NC} - Keluar\n"
    echo -e "${BLUE}Pilih (1-3):${NC} \c"
    read -r existing_choice
    
    case $existing_choice in
      1)
        # Backup dan lanjut instalasi
        echo -e "\n${YELLOW}Membackup konfigurasi lama...${NC}"
        [[ -f "$CHOICE_FILE" ]] && cp "$CHOICE_FILE" "${CHOICE_FILE}.backup"
        [[ -f "$NAME_FILE" ]] && cp "$NAME_FILE" "${NAME_FILE}.backup"
        [[ -f "$BANNER_FILE" ]] && cp "$BANNER_FILE" "${BANNER_FILE}.backup"
        [[ -f "$ZSHRC" ]] && cp "$ZSHRC" "${ZSHRC}.backup"
        [[ -d "$OHMYZSH_DIR" ]] && mv "$OHMYZSH_DIR" "${OHMYZSH_DIR}.bak"
        echo -e "${GREEN}РюЁ Backup selesai! Melanjutkan instalasi...${NC}"
        sleep 2
        return 0
        ;;
      2)
        # Langsung ke menu konfigurasi
        post_installation_menu
        exit 0
        ;;
      3)
        echo -e "\n${GREEN}Terima kasih!${NC}"
        exit 0
        ;;
      *)
        echo -e "\n${RED}Pilihan tidak valid! Keluar...${NC}"
        exit 1
        ;;
    esac
  fi
}

# Fungsi main
main() {
  # Cek apakah sudah di Termux
  if [[ ! -d "/data/data/com.termux" ]] && [[ ! -d "/data/data/com.termux/files/usr" ]]; then
    echo -e "${RED}Error: Script ini hanya untuk Termux!${NC}"
    exit 1
  fi
  
  # Cek instalasi yang sudah ada
  check_existing_installation
  
  # Jalankan instalasi
  install_dependencies
  install_ohmyzsh
  install_plugins
  input_name
  select_banner
  create_banner_file
  create_zshrc
  change_shell
  show_summary
}

# Jalankan main function
main